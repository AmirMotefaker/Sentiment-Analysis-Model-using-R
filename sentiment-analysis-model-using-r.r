{"cells":[{"source":"<a href=\"https://www.kaggle.com/code/amirmotefaker/sentiment-analysis-model-using-r?scriptVersionId=117992528\" target=\"_blank\"><img align=\"left\" alt=\"Kaggle\" title=\"Open in Kaggle\" src=\"https://kaggle.com/static/images/open-in-kaggle.svg\"></a>","metadata":{},"cell_type":"markdown","outputs":[],"execution_count":0},{"cell_type":"markdown","id":"20980ace","metadata":{"_execution_state":"idle","_uuid":"051d70d956493feee0c6d64651c6a088724dca2a","papermill":{"duration":0.005182,"end_time":"2023-02-02T05:38:24.680007","exception":false,"start_time":"2023-02-02T05:38:24.674825","status":"completed"},"tags":[]},"source":["# What is Sentiment Analysis?\n","- Sentiment analysis is the process of analyzing digital text to determine if the emotional tone of the message is positive, negative, or neutral. Today, companies have large volumes of text data like emails, customer support chat transcripts, social media comments, and reviews. Sentiment analysis tools can scan this text to automatically determine the author’s attitude towards a topic. Companies use the insights from sentiment analysis to improve customer service and increase brand reputation. \n","# Why is sentiment analysis important?\n"," - Provide objective insights\n"," - Build better products and services\n"," - Analyze at scale\n"," - Real-time results\n"," \n","# What are sentiment analysis use cases?\n","  - Improve customer service\n","  - Brand monitoring\n","  - Market research\n","  - Track campaign performance\n","  \n","# What are the different types of sentiment analysis?\n"," - Fine-grained scoring\n"," - Aspect-based\n"," - Intent-based\n"," - Emotional detection\n"," \n","\n","##### Reference : [Amazon](https://aws.amazon.com/what-is/sentiment-analysis/)\n","\n","\n","# Sentiment Analysis Model:\n","- We will carry out sentiment analysis with R in this project. The dataset that we will use will be provided by the R package ‘janeaustenR’.\n","\n","## janeaustenr: Jane Austen's Complete Novels:\n","- Full texts for Jane Austen's 6 completed novels, ready for text analysis. These novels are \"Sense and Sensibility\", \"Pride and Prejudice\", \"Mansfield Park\", \"Emma\", \"Northanger Abbey\", and \"Persuasion\". [janeaustenr](https://cran.r-project.org/web/packages/janeaustenr/index.html)\n","\n","\n","- In order to build our project on sentiment analysis, we will make use of the tidytext package that comprises sentiment lexicons that are present in the dataset of ‘sentiments’."]},{"cell_type":"markdown","id":"3dd47587","metadata":{"papermill":{"duration":0.003631,"end_time":"2023-02-02T05:38:24.687606","exception":false,"start_time":"2023-02-02T05:38:24.683975","status":"completed"},"tags":[]},"source":["# Install Libraries"]},{"cell_type":"code","execution_count":1,"id":"e9540794","metadata":{"execution":{"iopub.execute_input":"2023-02-02T05:38:24.700016Z","iopub.status.busy":"2023-02-02T05:38:24.697483Z","iopub.status.idle":"2023-02-02T05:38:58.352456Z","shell.execute_reply":"2023-02-02T05:38:58.35047Z"},"papermill":{"duration":33.663324,"end_time":"2023-02-02T05:38:58.354888","exception":false,"start_time":"2023-02-02T05:38:24.691564","status":"completed"},"tags":[]},"outputs":[{"name":"stderr","output_type":"stream","text":["Installing package into ‘/usr/local/lib/R/site-library’\n","(as ‘lib’ is unspecified)\n","\n","Installing package into ‘/usr/local/lib/R/site-library’\n","(as ‘lib’ is unspecified)\n","\n"]}],"source":["install.packages(\"janeaustenr\")\n","install.packages(\"tidytext\")"]},{"cell_type":"markdown","id":"65cd6ee5","metadata":{"papermill":{"duration":0.003892,"end_time":"2023-02-02T05:38:58.363541","exception":false,"start_time":"2023-02-02T05:38:58.359649","status":"completed"},"tags":[]},"source":["# Import Libraries"]},{"cell_type":"code","execution_count":2,"id":"9a73b5a2","metadata":{"execution":{"iopub.execute_input":"2023-02-02T05:38:58.420303Z","iopub.status.busy":"2023-02-02T05:38:58.373072Z","iopub.status.idle":"2023-02-02T05:38:59.571356Z","shell.execute_reply":"2023-02-02T05:38:59.569786Z"},"papermill":{"duration":1.205997,"end_time":"2023-02-02T05:38:59.573537","exception":false,"start_time":"2023-02-02T05:38:58.36754","status":"completed"},"tags":[]},"outputs":[],"source":["library(tidytext)"]},{"cell_type":"code","execution_count":3,"id":"2c7c3f80","metadata":{"execution":{"iopub.execute_input":"2023-02-02T05:38:59.584253Z","iopub.status.busy":"2023-02-02T05:38:59.582937Z","iopub.status.idle":"2023-02-02T05:38:59.638589Z","shell.execute_reply":"2023-02-02T05:38:59.636972Z"},"papermill":{"duration":0.063222,"end_time":"2023-02-02T05:38:59.64083","exception":false,"start_time":"2023-02-02T05:38:59.577608","status":"completed"},"tags":[]},"outputs":[{"data":{"text/html":["<table class=\"dataframe\">\n","<caption>A tibble: 6786 × 2</caption>\n","<thead>\n","\t<tr><th scope=col>word</th><th scope=col>sentiment</th></tr>\n","\t<tr><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th></tr>\n","</thead>\n","<tbody>\n","\t<tr><td>2-faces      </td><td>negative</td></tr>\n","\t<tr><td>abnormal     </td><td>negative</td></tr>\n","\t<tr><td>abolish      </td><td>negative</td></tr>\n","\t<tr><td>abominable   </td><td>negative</td></tr>\n","\t<tr><td>abominably   </td><td>negative</td></tr>\n","\t<tr><td>abominate    </td><td>negative</td></tr>\n","\t<tr><td>abomination  </td><td>negative</td></tr>\n","\t<tr><td>abort        </td><td>negative</td></tr>\n","\t<tr><td>aborted      </td><td>negative</td></tr>\n","\t<tr><td>aborts       </td><td>negative</td></tr>\n","\t<tr><td>abound       </td><td>positive</td></tr>\n","\t<tr><td>abounds      </td><td>positive</td></tr>\n","\t<tr><td>abrade       </td><td>negative</td></tr>\n","\t<tr><td>abrasive     </td><td>negative</td></tr>\n","\t<tr><td>abrupt       </td><td>negative</td></tr>\n","\t<tr><td>abruptly     </td><td>negative</td></tr>\n","\t<tr><td>abscond      </td><td>negative</td></tr>\n","\t<tr><td>absence      </td><td>negative</td></tr>\n","\t<tr><td>absent-minded</td><td>negative</td></tr>\n","\t<tr><td>absentee     </td><td>negative</td></tr>\n","\t<tr><td>absurd       </td><td>negative</td></tr>\n","\t<tr><td>absurdity    </td><td>negative</td></tr>\n","\t<tr><td>absurdly     </td><td>negative</td></tr>\n","\t<tr><td>absurdness   </td><td>negative</td></tr>\n","\t<tr><td>abundance    </td><td>positive</td></tr>\n","\t<tr><td>abundant     </td><td>positive</td></tr>\n","\t<tr><td>abuse        </td><td>negative</td></tr>\n","\t<tr><td>abused       </td><td>negative</td></tr>\n","\t<tr><td>abuses       </td><td>negative</td></tr>\n","\t<tr><td>abusive      </td><td>negative</td></tr>\n","\t<tr><td>⋮</td><td>⋮</td></tr>\n","\t<tr><td>wrestle     </td><td>negative</td></tr>\n","\t<tr><td>wretch      </td><td>negative</td></tr>\n","\t<tr><td>wretched    </td><td>negative</td></tr>\n","\t<tr><td>wretchedly  </td><td>negative</td></tr>\n","\t<tr><td>wretchedness</td><td>negative</td></tr>\n","\t<tr><td>wrinkle     </td><td>negative</td></tr>\n","\t<tr><td>wrinkled    </td><td>negative</td></tr>\n","\t<tr><td>wrinkles    </td><td>negative</td></tr>\n","\t<tr><td>wrip        </td><td>negative</td></tr>\n","\t<tr><td>wripped     </td><td>negative</td></tr>\n","\t<tr><td>wripping    </td><td>negative</td></tr>\n","\t<tr><td>writhe      </td><td>negative</td></tr>\n","\t<tr><td>wrong       </td><td>negative</td></tr>\n","\t<tr><td>wrongful    </td><td>negative</td></tr>\n","\t<tr><td>wrongly     </td><td>negative</td></tr>\n","\t<tr><td>wrought     </td><td>negative</td></tr>\n","\t<tr><td>yawn        </td><td>negative</td></tr>\n","\t<tr><td>yay         </td><td>positive</td></tr>\n","\t<tr><td>youthful    </td><td>positive</td></tr>\n","\t<tr><td>zap         </td><td>negative</td></tr>\n","\t<tr><td>zapped      </td><td>negative</td></tr>\n","\t<tr><td>zaps        </td><td>negative</td></tr>\n","\t<tr><td>zeal        </td><td>positive</td></tr>\n","\t<tr><td>zealot      </td><td>negative</td></tr>\n","\t<tr><td>zealous     </td><td>negative</td></tr>\n","\t<tr><td>zealously   </td><td>negative</td></tr>\n","\t<tr><td>zenith      </td><td>positive</td></tr>\n","\t<tr><td>zest        </td><td>positive</td></tr>\n","\t<tr><td>zippy       </td><td>positive</td></tr>\n","\t<tr><td>zombie      </td><td>negative</td></tr>\n","</tbody>\n","</table>\n"],"text/latex":["A tibble: 6786 × 2\n","\\begin{tabular}{ll}\n"," word & sentiment\\\\\n"," <chr> & <chr>\\\\\n","\\hline\n","\t 2-faces       & negative\\\\\n","\t abnormal      & negative\\\\\n","\t abolish       & negative\\\\\n","\t abominable    & negative\\\\\n","\t abominably    & negative\\\\\n","\t abominate     & negative\\\\\n","\t abomination   & negative\\\\\n","\t abort         & negative\\\\\n","\t aborted       & negative\\\\\n","\t aborts        & negative\\\\\n","\t abound        & positive\\\\\n","\t abounds       & positive\\\\\n","\t abrade        & negative\\\\\n","\t abrasive      & negative\\\\\n","\t abrupt        & negative\\\\\n","\t abruptly      & negative\\\\\n","\t abscond       & negative\\\\\n","\t absence       & negative\\\\\n","\t absent-minded & negative\\\\\n","\t absentee      & negative\\\\\n","\t absurd        & negative\\\\\n","\t absurdity     & negative\\\\\n","\t absurdly      & negative\\\\\n","\t absurdness    & negative\\\\\n","\t abundance     & positive\\\\\n","\t abundant      & positive\\\\\n","\t abuse         & negative\\\\\n","\t abused        & negative\\\\\n","\t abuses        & negative\\\\\n","\t abusive       & negative\\\\\n","\t ⋮ & ⋮\\\\\n","\t wrestle      & negative\\\\\n","\t wretch       & negative\\\\\n","\t wretched     & negative\\\\\n","\t wretchedly   & negative\\\\\n","\t wretchedness & negative\\\\\n","\t wrinkle      & negative\\\\\n","\t wrinkled     & negative\\\\\n","\t wrinkles     & negative\\\\\n","\t wrip         & negative\\\\\n","\t wripped      & negative\\\\\n","\t wripping     & negative\\\\\n","\t writhe       & negative\\\\\n","\t wrong        & negative\\\\\n","\t wrongful     & negative\\\\\n","\t wrongly      & negative\\\\\n","\t wrought      & negative\\\\\n","\t yawn         & negative\\\\\n","\t yay          & positive\\\\\n","\t youthful     & positive\\\\\n","\t zap          & negative\\\\\n","\t zapped       & negative\\\\\n","\t zaps         & negative\\\\\n","\t zeal         & positive\\\\\n","\t zealot       & negative\\\\\n","\t zealous      & negative\\\\\n","\t zealously    & negative\\\\\n","\t zenith       & positive\\\\\n","\t zest         & positive\\\\\n","\t zippy        & positive\\\\\n","\t zombie       & negative\\\\\n","\\end{tabular}\n"],"text/markdown":["\n","A tibble: 6786 × 2\n","\n","| word &lt;chr&gt; | sentiment &lt;chr&gt; |\n","|---|---|\n","| 2-faces       | negative |\n","| abnormal      | negative |\n","| abolish       | negative |\n","| abominable    | negative |\n","| abominably    | negative |\n","| abominate     | negative |\n","| abomination   | negative |\n","| abort         | negative |\n","| aborted       | negative |\n","| aborts        | negative |\n","| abound        | positive |\n","| abounds       | positive |\n","| abrade        | negative |\n","| abrasive      | negative |\n","| abrupt        | negative |\n","| abruptly      | negative |\n","| abscond       | negative |\n","| absence       | negative |\n","| absent-minded | negative |\n","| absentee      | negative |\n","| absurd        | negative |\n","| absurdity     | negative |\n","| absurdly      | negative |\n","| absurdness    | negative |\n","| abundance     | positive |\n","| abundant      | positive |\n","| abuse         | negative |\n","| abused        | negative |\n","| abuses        | negative |\n","| abusive       | negative |\n","| ⋮ | ⋮ |\n","| wrestle      | negative |\n","| wretch       | negative |\n","| wretched     | negative |\n","| wretchedly   | negative |\n","| wretchedness | negative |\n","| wrinkle      | negative |\n","| wrinkled     | negative |\n","| wrinkles     | negative |\n","| wrip         | negative |\n","| wripped      | negative |\n","| wripping     | negative |\n","| writhe       | negative |\n","| wrong        | negative |\n","| wrongful     | negative |\n","| wrongly      | negative |\n","| wrought      | negative |\n","| yawn         | negative |\n","| yay          | positive |\n","| youthful     | positive |\n","| zap          | negative |\n","| zapped       | negative |\n","| zaps         | negative |\n","| zeal         | positive |\n","| zealot       | negative |\n","| zealous      | negative |\n","| zealously    | negative |\n","| zenith       | positive |\n","| zest         | positive |\n","| zippy        | positive |\n","| zombie       | negative |\n","\n"],"text/plain":["     word          sentiment\n","1    2-faces       negative \n","2    abnormal      negative \n","3    abolish       negative \n","4    abominable    negative \n","5    abominably    negative \n","6    abominate     negative \n","7    abomination   negative \n","8    abort         negative \n","9    aborted       negative \n","10   aborts        negative \n","11   abound        positive \n","12   abounds       positive \n","13   abrade        negative \n","14   abrasive      negative \n","15   abrupt        negative \n","16   abruptly      negative \n","17   abscond       negative \n","18   absence       negative \n","19   absent-minded negative \n","20   absentee      negative \n","21   absurd        negative \n","22   absurdity     negative \n","23   absurdly      negative \n","24   absurdness    negative \n","25   abundance     positive \n","26   abundant      positive \n","27   abuse         negative \n","28   abused        negative \n","29   abuses        negative \n","30   abusive       negative \n","⋮    ⋮             ⋮        \n","6757 wrestle       negative \n","6758 wretch        negative \n","6759 wretched      negative \n","6760 wretchedly    negative \n","6761 wretchedness  negative \n","6762 wrinkle       negative \n","6763 wrinkled      negative \n","6764 wrinkles      negative \n","6765 wrip          negative \n","6766 wripped       negative \n","6767 wripping      negative \n","6768 writhe        negative \n","6769 wrong         negative \n","6770 wrongful      negative \n","6771 wrongly       negative \n","6772 wrought       negative \n","6773 yawn          negative \n","6774 yay           positive \n","6775 youthful      positive \n","6776 zap           negative \n","6777 zapped        negative \n","6778 zaps          negative \n","6779 zeal          positive \n","6780 zealot        negative \n","6781 zealous       negative \n","6782 zealously     negative \n","6783 zenith        positive \n","6784 zest          positive \n","6785 zippy         positive \n","6786 zombie        negative "]},"metadata":{},"output_type":"display_data"}],"source":["sentiments"]},{"cell_type":"markdown","id":"8cd6d115","metadata":{"papermill":{"duration":0.004227,"end_time":"2023-02-02T05:38:59.649533","exception":false,"start_time":"2023-02-02T05:38:59.645306","status":"completed"},"tags":[]},"source":["# Unigrams\n","- We will make use of three general-purpose lexicons:\n","\n","    - AFINN\n","    - bing\n","    - loughran\n","\n","- These three lexicons make use of the unigrams. Unigrams are a type of n-gram model that consists of a sequence of 1 item, that is, a word collected from a given textual data.\n","\n","- In the AFINN lexicon model scores the words in a range from -5 to 5. The increase in negativity corresponds the negative sentiment whereas an increase in positivity corresponds the positive one. \n","- The bing lexicon model on the other hand, classifies the sentiment into a binary category of negative or positive. \n","- The loughran model that performs analysis of the shareholder’s reports. In this project, we will make use of the bing lexicons to extract the sentiments out of our data. \n","\n","#### Reference: [ScienceDirect](https://www.sciencedirect.com/science/article/abs/pii/S095741741830143X)"]},{"cell_type":"markdown","id":"ba5c546e","metadata":{"papermill":{"duration":0.003999,"end_time":"2023-02-02T05:38:59.657652","exception":false,"start_time":"2023-02-02T05:38:59.653653","status":"completed"},"tags":[]},"source":["# Sentiments"]},{"cell_type":"markdown","id":"f27b3004","metadata":{"papermill":{"duration":0.004016,"end_time":"2023-02-02T05:38:59.665844","exception":false,"start_time":"2023-02-02T05:38:59.661828","status":"completed"},"tags":[]},"source":["## We can retrieve these lexicons using the get_sentiments() function. We can implement this as follows:"]},{"cell_type":"code","execution_count":4,"id":"18dc3992","metadata":{"execution":{"iopub.execute_input":"2023-02-02T05:38:59.677182Z","iopub.status.busy":"2023-02-02T05:38:59.67569Z","iopub.status.idle":"2023-02-02T05:38:59.723404Z","shell.execute_reply":"2023-02-02T05:38:59.721201Z"},"papermill":{"duration":0.056252,"end_time":"2023-02-02T05:38:59.726232","exception":false,"start_time":"2023-02-02T05:38:59.66998","status":"completed"},"tags":[]},"outputs":[{"data":{"text/html":["<table class=\"dataframe\">\n","<caption>A tibble: 6786 × 2</caption>\n","<thead>\n","\t<tr><th scope=col>word</th><th scope=col>sentiment</th></tr>\n","\t<tr><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th></tr>\n","</thead>\n","<tbody>\n","\t<tr><td>2-faces      </td><td>negative</td></tr>\n","\t<tr><td>abnormal     </td><td>negative</td></tr>\n","\t<tr><td>abolish      </td><td>negative</td></tr>\n","\t<tr><td>abominable   </td><td>negative</td></tr>\n","\t<tr><td>abominably   </td><td>negative</td></tr>\n","\t<tr><td>abominate    </td><td>negative</td></tr>\n","\t<tr><td>abomination  </td><td>negative</td></tr>\n","\t<tr><td>abort        </td><td>negative</td></tr>\n","\t<tr><td>aborted      </td><td>negative</td></tr>\n","\t<tr><td>aborts       </td><td>negative</td></tr>\n","\t<tr><td>abound       </td><td>positive</td></tr>\n","\t<tr><td>abounds      </td><td>positive</td></tr>\n","\t<tr><td>abrade       </td><td>negative</td></tr>\n","\t<tr><td>abrasive     </td><td>negative</td></tr>\n","\t<tr><td>abrupt       </td><td>negative</td></tr>\n","\t<tr><td>abruptly     </td><td>negative</td></tr>\n","\t<tr><td>abscond      </td><td>negative</td></tr>\n","\t<tr><td>absence      </td><td>negative</td></tr>\n","\t<tr><td>absent-minded</td><td>negative</td></tr>\n","\t<tr><td>absentee     </td><td>negative</td></tr>\n","\t<tr><td>absurd       </td><td>negative</td></tr>\n","\t<tr><td>absurdity    </td><td>negative</td></tr>\n","\t<tr><td>absurdly     </td><td>negative</td></tr>\n","\t<tr><td>absurdness   </td><td>negative</td></tr>\n","\t<tr><td>abundance    </td><td>positive</td></tr>\n","\t<tr><td>abundant     </td><td>positive</td></tr>\n","\t<tr><td>abuse        </td><td>negative</td></tr>\n","\t<tr><td>abused       </td><td>negative</td></tr>\n","\t<tr><td>abuses       </td><td>negative</td></tr>\n","\t<tr><td>abusive      </td><td>negative</td></tr>\n","\t<tr><td>⋮</td><td>⋮</td></tr>\n","\t<tr><td>wrestle     </td><td>negative</td></tr>\n","\t<tr><td>wretch      </td><td>negative</td></tr>\n","\t<tr><td>wretched    </td><td>negative</td></tr>\n","\t<tr><td>wretchedly  </td><td>negative</td></tr>\n","\t<tr><td>wretchedness</td><td>negative</td></tr>\n","\t<tr><td>wrinkle     </td><td>negative</td></tr>\n","\t<tr><td>wrinkled    </td><td>negative</td></tr>\n","\t<tr><td>wrinkles    </td><td>negative</td></tr>\n","\t<tr><td>wrip        </td><td>negative</td></tr>\n","\t<tr><td>wripped     </td><td>negative</td></tr>\n","\t<tr><td>wripping    </td><td>negative</td></tr>\n","\t<tr><td>writhe      </td><td>negative</td></tr>\n","\t<tr><td>wrong       </td><td>negative</td></tr>\n","\t<tr><td>wrongful    </td><td>negative</td></tr>\n","\t<tr><td>wrongly     </td><td>negative</td></tr>\n","\t<tr><td>wrought     </td><td>negative</td></tr>\n","\t<tr><td>yawn        </td><td>negative</td></tr>\n","\t<tr><td>yay         </td><td>positive</td></tr>\n","\t<tr><td>youthful    </td><td>positive</td></tr>\n","\t<tr><td>zap         </td><td>negative</td></tr>\n","\t<tr><td>zapped      </td><td>negative</td></tr>\n","\t<tr><td>zaps        </td><td>negative</td></tr>\n","\t<tr><td>zeal        </td><td>positive</td></tr>\n","\t<tr><td>zealot      </td><td>negative</td></tr>\n","\t<tr><td>zealous     </td><td>negative</td></tr>\n","\t<tr><td>zealously   </td><td>negative</td></tr>\n","\t<tr><td>zenith      </td><td>positive</td></tr>\n","\t<tr><td>zest        </td><td>positive</td></tr>\n","\t<tr><td>zippy       </td><td>positive</td></tr>\n","\t<tr><td>zombie      </td><td>negative</td></tr>\n","</tbody>\n","</table>\n"],"text/latex":["A tibble: 6786 × 2\n","\\begin{tabular}{ll}\n"," word & sentiment\\\\\n"," <chr> & <chr>\\\\\n","\\hline\n","\t 2-faces       & negative\\\\\n","\t abnormal      & negative\\\\\n","\t abolish       & negative\\\\\n","\t abominable    & negative\\\\\n","\t abominably    & negative\\\\\n","\t abominate     & negative\\\\\n","\t abomination   & negative\\\\\n","\t abort         & negative\\\\\n","\t aborted       & negative\\\\\n","\t aborts        & negative\\\\\n","\t abound        & positive\\\\\n","\t abounds       & positive\\\\\n","\t abrade        & negative\\\\\n","\t abrasive      & negative\\\\\n","\t abrupt        & negative\\\\\n","\t abruptly      & negative\\\\\n","\t abscond       & negative\\\\\n","\t absence       & negative\\\\\n","\t absent-minded & negative\\\\\n","\t absentee      & negative\\\\\n","\t absurd        & negative\\\\\n","\t absurdity     & negative\\\\\n","\t absurdly      & negative\\\\\n","\t absurdness    & negative\\\\\n","\t abundance     & positive\\\\\n","\t abundant      & positive\\\\\n","\t abuse         & negative\\\\\n","\t abused        & negative\\\\\n","\t abuses        & negative\\\\\n","\t abusive       & negative\\\\\n","\t ⋮ & ⋮\\\\\n","\t wrestle      & negative\\\\\n","\t wretch       & negative\\\\\n","\t wretched     & negative\\\\\n","\t wretchedly   & negative\\\\\n","\t wretchedness & negative\\\\\n","\t wrinkle      & negative\\\\\n","\t wrinkled     & negative\\\\\n","\t wrinkles     & negative\\\\\n","\t wrip         & negative\\\\\n","\t wripped      & negative\\\\\n","\t wripping     & negative\\\\\n","\t writhe       & negative\\\\\n","\t wrong        & negative\\\\\n","\t wrongful     & negative\\\\\n","\t wrongly      & negative\\\\\n","\t wrought      & negative\\\\\n","\t yawn         & negative\\\\\n","\t yay          & positive\\\\\n","\t youthful     & positive\\\\\n","\t zap          & negative\\\\\n","\t zapped       & negative\\\\\n","\t zaps         & negative\\\\\n","\t zeal         & positive\\\\\n","\t zealot       & negative\\\\\n","\t zealous      & negative\\\\\n","\t zealously    & negative\\\\\n","\t zenith       & positive\\\\\n","\t zest         & positive\\\\\n","\t zippy        & positive\\\\\n","\t zombie       & negative\\\\\n","\\end{tabular}\n"],"text/markdown":["\n","A tibble: 6786 × 2\n","\n","| word &lt;chr&gt; | sentiment &lt;chr&gt; |\n","|---|---|\n","| 2-faces       | negative |\n","| abnormal      | negative |\n","| abolish       | negative |\n","| abominable    | negative |\n","| abominably    | negative |\n","| abominate     | negative |\n","| abomination   | negative |\n","| abort         | negative |\n","| aborted       | negative |\n","| aborts        | negative |\n","| abound        | positive |\n","| abounds       | positive |\n","| abrade        | negative |\n","| abrasive      | negative |\n","| abrupt        | negative |\n","| abruptly      | negative |\n","| abscond       | negative |\n","| absence       | negative |\n","| absent-minded | negative |\n","| absentee      | negative |\n","| absurd        | negative |\n","| absurdity     | negative |\n","| absurdly      | negative |\n","| absurdness    | negative |\n","| abundance     | positive |\n","| abundant      | positive |\n","| abuse         | negative |\n","| abused        | negative |\n","| abuses        | negative |\n","| abusive       | negative |\n","| ⋮ | ⋮ |\n","| wrestle      | negative |\n","| wretch       | negative |\n","| wretched     | negative |\n","| wretchedly   | negative |\n","| wretchedness | negative |\n","| wrinkle      | negative |\n","| wrinkled     | negative |\n","| wrinkles     | negative |\n","| wrip         | negative |\n","| wripped      | negative |\n","| wripping     | negative |\n","| writhe       | negative |\n","| wrong        | negative |\n","| wrongful     | negative |\n","| wrongly      | negative |\n","| wrought      | negative |\n","| yawn         | negative |\n","| yay          | positive |\n","| youthful     | positive |\n","| zap          | negative |\n","| zapped       | negative |\n","| zaps         | negative |\n","| zeal         | positive |\n","| zealot       | negative |\n","| zealous      | negative |\n","| zealously    | negative |\n","| zenith       | positive |\n","| zest         | positive |\n","| zippy        | positive |\n","| zombie       | negative |\n","\n"],"text/plain":["     word          sentiment\n","1    2-faces       negative \n","2    abnormal      negative \n","3    abolish       negative \n","4    abominable    negative \n","5    abominably    negative \n","6    abominate     negative \n","7    abomination   negative \n","8    abort         negative \n","9    aborted       negative \n","10   aborts        negative \n","11   abound        positive \n","12   abounds       positive \n","13   abrade        negative \n","14   abrasive      negative \n","15   abrupt        negative \n","16   abruptly      negative \n","17   abscond       negative \n","18   absence       negative \n","19   absent-minded negative \n","20   absentee      negative \n","21   absurd        negative \n","22   absurdity     negative \n","23   absurdly      negative \n","24   absurdness    negative \n","25   abundance     positive \n","26   abundant      positive \n","27   abuse         negative \n","28   abused        negative \n","29   abuses        negative \n","30   abusive       negative \n","⋮    ⋮             ⋮        \n","6757 wrestle       negative \n","6758 wretch        negative \n","6759 wretched      negative \n","6760 wretchedly    negative \n","6761 wretchedness  negative \n","6762 wrinkle       negative \n","6763 wrinkled      negative \n","6764 wrinkles      negative \n","6765 wrip          negative \n","6766 wripped       negative \n","6767 wripping      negative \n","6768 writhe        negative \n","6769 wrong         negative \n","6770 wrongful      negative \n","6771 wrongly       negative \n","6772 wrought       negative \n","6773 yawn          negative \n","6774 yay           positive \n","6775 youthful      positive \n","6776 zap           negative \n","6777 zapped        negative \n","6778 zaps          negative \n","6779 zeal          positive \n","6780 zealot        negative \n","6781 zealous       negative \n","6782 zealously     negative \n","6783 zenith        positive \n","6784 zest          positive \n","6785 zippy         positive \n","6786 zombie        negative "]},"metadata":{},"output_type":"display_data"}],"source":["get_sentiments(\"bing\")"]},{"cell_type":"markdown","id":"ab0ca04a","metadata":{"papermill":{"duration":0.00493,"end_time":"2023-02-02T05:38:59.736022","exception":false,"start_time":"2023-02-02T05:38:59.731092","status":"completed"},"tags":[]},"source":["# Performing Sentiment Analysis with the Inner Join\n","- In this step, we will import our libraries ‘janeaustenr’, ‘stringr’ as well as ‘tidytext’. The janeaustenr package will provide us with the textual data in the form of books authored by the novelist Jane Austen. Tidytext will allow us to perform efficient text analysis on our data. We will convert the text of our books into a tidy format using unnest_tokens() function."]},{"cell_type":"code","execution_count":5,"id":"76ba7d8d","metadata":{"execution":{"iopub.execute_input":"2023-02-02T05:38:59.748625Z","iopub.status.busy":"2023-02-02T05:38:59.747167Z","iopub.status.idle":"2023-02-02T05:38:59.808782Z","shell.execute_reply":"2023-02-02T05:38:59.806912Z"},"papermill":{"duration":0.070226,"end_time":"2023-02-02T05:38:59.811005","exception":false,"start_time":"2023-02-02T05:38:59.740779","status":"completed"},"tags":[]},"outputs":[{"name":"stderr","output_type":"stream","text":["\n","Attaching package: ‘dplyr’\n","\n","\n","The following objects are masked from ‘package:stats’:\n","\n","    filter, lag\n","\n","\n","The following objects are masked from ‘package:base’:\n","\n","    intersect, setdiff, setequal, union\n","\n","\n"]}],"source":["library(janeaustenr)\n","library(stringr)\n","library(tidytext)\n","library(dplyr)"]},{"cell_type":"code","execution_count":6,"id":"696c98c3","metadata":{"execution":{"iopub.execute_input":"2023-02-02T05:38:59.82413Z","iopub.status.busy":"2023-02-02T05:38:59.82269Z","iopub.status.idle":"2023-02-02T05:39:00.771184Z","shell.execute_reply":"2023-02-02T05:39:00.769461Z"},"papermill":{"duration":0.957401,"end_time":"2023-02-02T05:39:00.773471","exception":false,"start_time":"2023-02-02T05:38:59.81607","status":"completed"},"tags":[]},"outputs":[],"source":["\n","tidy_data <- austen_books() %>%\n"," group_by(book) %>%\n"," mutate(linenumber = row_number(),\n","   chapter = cumsum(str_detect(text, regex(\"^chapter [\\\\divxlc]\", \n","                          ignore_case = TRUE)))) %>%\n","ungroup() %>%\n","unnest_tokens(word, text)"]},{"cell_type":"markdown","id":"d71d2a4f","metadata":{"papermill":{"duration":0.004989,"end_time":"2023-02-02T05:39:00.783681","exception":false,"start_time":"2023-02-02T05:39:00.778692","status":"completed"},"tags":[]},"source":["### We have performed the tidy operation on our text such that each row contains a single word. We will now make use of the “bing” lexicon to implement a filter() over the words that correspond to joy. We will use the book Sense and Sensibility and derive its words from implementing our sentiment analysis model:"]},{"cell_type":"code","execution_count":7,"id":"d2dc3126","metadata":{"execution":{"iopub.execute_input":"2023-02-02T05:39:00.796624Z","iopub.status.busy":"2023-02-02T05:39:00.795245Z","iopub.status.idle":"2023-02-02T05:39:00.99279Z","shell.execute_reply":"2023-02-02T05:39:00.991247Z"},"papermill":{"duration":0.206263,"end_time":"2023-02-02T05:39:00.994911","exception":false,"start_time":"2023-02-02T05:39:00.788648","status":"completed"},"tags":[]},"outputs":[{"name":"stderr","output_type":"stream","text":["\u001b[1m\u001b[22mJoining, by = \"word\"\n"]},{"data":{"text/html":["<table class=\"dataframe\">\n","<caption>A tibble: 668 × 2</caption>\n","<thead>\n","\t<tr><th scope=col>word</th><th scope=col>n</th></tr>\n","\t<tr><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;int&gt;</th></tr>\n","</thead>\n","<tbody>\n","\t<tr><td>well     </td><td>401</td></tr>\n","\t<tr><td>good     </td><td>359</td></tr>\n","\t<tr><td>great    </td><td>264</td></tr>\n","\t<tr><td>like     </td><td>200</td></tr>\n","\t<tr><td>better   </td><td>173</td></tr>\n","\t<tr><td>enough   </td><td>129</td></tr>\n","\t<tr><td>happy    </td><td>125</td></tr>\n","\t<tr><td>love     </td><td>117</td></tr>\n","\t<tr><td>pleasure </td><td>115</td></tr>\n","\t<tr><td>right    </td><td> 92</td></tr>\n","\t<tr><td>best     </td><td> 85</td></tr>\n","\t<tr><td>happiness</td><td> 76</td></tr>\n","\t<tr><td>pretty   </td><td> 68</td></tr>\n","\t<tr><td>perfectly</td><td> 67</td></tr>\n","\t<tr><td>ready    </td><td> 66</td></tr>\n","\t<tr><td>comfort  </td><td> 65</td></tr>\n","\t<tr><td>assure   </td><td> 59</td></tr>\n","\t<tr><td>superior </td><td> 59</td></tr>\n","\t<tr><td>satisfied</td><td> 52</td></tr>\n","\t<tr><td>affection</td><td> 50</td></tr>\n","\t<tr><td>agreeable</td><td> 50</td></tr>\n","\t<tr><td>glad     </td><td> 50</td></tr>\n","\t<tr><td>wonder   </td><td> 49</td></tr>\n","\t<tr><td>pleased  </td><td> 47</td></tr>\n","\t<tr><td>smile    </td><td> 44</td></tr>\n","\t<tr><td>strong   </td><td> 44</td></tr>\n","\t<tr><td>regard   </td><td> 43</td></tr>\n","\t<tr><td>respect  </td><td> 43</td></tr>\n","\t<tr><td>fine     </td><td> 42</td></tr>\n","\t<tr><td>proper   </td><td> 42</td></tr>\n","\t<tr><td>⋮</td><td>⋮</td></tr>\n","\t<tr><td>spontaneous   </td><td>1</td></tr>\n","\t<tr><td>steadiest     </td><td>1</td></tr>\n","\t<tr><td>stimulate     </td><td>1</td></tr>\n","\t<tr><td>stimulative   </td><td>1</td></tr>\n","\t<tr><td>strikingly    </td><td>1</td></tr>\n","\t<tr><td>sublime       </td><td>1</td></tr>\n","\t<tr><td>suffice       </td><td>1</td></tr>\n","\t<tr><td>sweeping      </td><td>1</td></tr>\n","\t<tr><td>tempting      </td><td>1</td></tr>\n","\t<tr><td>tenderly      </td><td>1</td></tr>\n","\t<tr><td>thinner       </td><td>1</td></tr>\n","\t<tr><td>thoughtfully  </td><td>1</td></tr>\n","\t<tr><td>thrive        </td><td>1</td></tr>\n","\t<tr><td>thriving      </td><td>1</td></tr>\n","\t<tr><td>tidy          </td><td>1</td></tr>\n","\t<tr><td>triumphant    </td><td>1</td></tr>\n","\t<tr><td>triumphantly  </td><td>1</td></tr>\n","\t<tr><td>unbiased      </td><td>1</td></tr>\n","\t<tr><td>undaunted     </td><td>1</td></tr>\n","\t<tr><td>unequivocal   </td><td>1</td></tr>\n","\t<tr><td>unequivocally </td><td>1</td></tr>\n","\t<tr><td>unquestionably</td><td>1</td></tr>\n","\t<tr><td>unselfish     </td><td>1</td></tr>\n","\t<tr><td>useable       </td><td>1</td></tr>\n","\t<tr><td>vouch         </td><td>1</td></tr>\n","\t<tr><td>win           </td><td>1</td></tr>\n","\t<tr><td>winning       </td><td>1</td></tr>\n","\t<tr><td>wins          </td><td>1</td></tr>\n","\t<tr><td>wisely        </td><td>1</td></tr>\n","\t<tr><td>works         </td><td>1</td></tr>\n","</tbody>\n","</table>\n"],"text/latex":["A tibble: 668 × 2\n","\\begin{tabular}{ll}\n"," word & n\\\\\n"," <chr> & <int>\\\\\n","\\hline\n","\t well      & 401\\\\\n","\t good      & 359\\\\\n","\t great     & 264\\\\\n","\t like      & 200\\\\\n","\t better    & 173\\\\\n","\t enough    & 129\\\\\n","\t happy     & 125\\\\\n","\t love      & 117\\\\\n","\t pleasure  & 115\\\\\n","\t right     &  92\\\\\n","\t best      &  85\\\\\n","\t happiness &  76\\\\\n","\t pretty    &  68\\\\\n","\t perfectly &  67\\\\\n","\t ready     &  66\\\\\n","\t comfort   &  65\\\\\n","\t assure    &  59\\\\\n","\t superior  &  59\\\\\n","\t satisfied &  52\\\\\n","\t affection &  50\\\\\n","\t agreeable &  50\\\\\n","\t glad      &  50\\\\\n","\t wonder    &  49\\\\\n","\t pleased   &  47\\\\\n","\t smile     &  44\\\\\n","\t strong    &  44\\\\\n","\t regard    &  43\\\\\n","\t respect   &  43\\\\\n","\t fine      &  42\\\\\n","\t proper    &  42\\\\\n","\t ⋮ & ⋮\\\\\n","\t spontaneous    & 1\\\\\n","\t steadiest      & 1\\\\\n","\t stimulate      & 1\\\\\n","\t stimulative    & 1\\\\\n","\t strikingly     & 1\\\\\n","\t sublime        & 1\\\\\n","\t suffice        & 1\\\\\n","\t sweeping       & 1\\\\\n","\t tempting       & 1\\\\\n","\t tenderly       & 1\\\\\n","\t thinner        & 1\\\\\n","\t thoughtfully   & 1\\\\\n","\t thrive         & 1\\\\\n","\t thriving       & 1\\\\\n","\t tidy           & 1\\\\\n","\t triumphant     & 1\\\\\n","\t triumphantly   & 1\\\\\n","\t unbiased       & 1\\\\\n","\t undaunted      & 1\\\\\n","\t unequivocal    & 1\\\\\n","\t unequivocally  & 1\\\\\n","\t unquestionably & 1\\\\\n","\t unselfish      & 1\\\\\n","\t useable        & 1\\\\\n","\t vouch          & 1\\\\\n","\t win            & 1\\\\\n","\t winning        & 1\\\\\n","\t wins           & 1\\\\\n","\t wisely         & 1\\\\\n","\t works          & 1\\\\\n","\\end{tabular}\n"],"text/markdown":["\n","A tibble: 668 × 2\n","\n","| word &lt;chr&gt; | n &lt;int&gt; |\n","|---|---|\n","| well      | 401 |\n","| good      | 359 |\n","| great     | 264 |\n","| like      | 200 |\n","| better    | 173 |\n","| enough    | 129 |\n","| happy     | 125 |\n","| love      | 117 |\n","| pleasure  | 115 |\n","| right     |  92 |\n","| best      |  85 |\n","| happiness |  76 |\n","| pretty    |  68 |\n","| perfectly |  67 |\n","| ready     |  66 |\n","| comfort   |  65 |\n","| assure    |  59 |\n","| superior  |  59 |\n","| satisfied |  52 |\n","| affection |  50 |\n","| agreeable |  50 |\n","| glad      |  50 |\n","| wonder    |  49 |\n","| pleased   |  47 |\n","| smile     |  44 |\n","| strong    |  44 |\n","| regard    |  43 |\n","| respect   |  43 |\n","| fine      |  42 |\n","| proper    |  42 |\n","| ⋮ | ⋮ |\n","| spontaneous    | 1 |\n","| steadiest      | 1 |\n","| stimulate      | 1 |\n","| stimulative    | 1 |\n","| strikingly     | 1 |\n","| sublime        | 1 |\n","| suffice        | 1 |\n","| sweeping       | 1 |\n","| tempting       | 1 |\n","| tenderly       | 1 |\n","| thinner        | 1 |\n","| thoughtfully   | 1 |\n","| thrive         | 1 |\n","| thriving       | 1 |\n","| tidy           | 1 |\n","| triumphant     | 1 |\n","| triumphantly   | 1 |\n","| unbiased       | 1 |\n","| undaunted      | 1 |\n","| unequivocal    | 1 |\n","| unequivocally  | 1 |\n","| unquestionably | 1 |\n","| unselfish      | 1 |\n","| useable        | 1 |\n","| vouch          | 1 |\n","| win            | 1 |\n","| winning        | 1 |\n","| wins           | 1 |\n","| wisely         | 1 |\n","| works          | 1 |\n","\n"],"text/plain":["    word           n  \n","1   well           401\n","2   good           359\n","3   great          264\n","4   like           200\n","5   better         173\n","6   enough         129\n","7   happy          125\n","8   love           117\n","9   pleasure       115\n","10  right           92\n","11  best            85\n","12  happiness       76\n","13  pretty          68\n","14  perfectly       67\n","15  ready           66\n","16  comfort         65\n","17  assure          59\n","18  superior        59\n","19  satisfied       52\n","20  affection       50\n","21  agreeable       50\n","22  glad            50\n","23  wonder          49\n","24  pleased         47\n","25  smile           44\n","26  strong          44\n","27  regard          43\n","28  respect         43\n","29  fine            42\n","30  proper          42\n","⋮   ⋮              ⋮  \n","639 spontaneous    1  \n","640 steadiest      1  \n","641 stimulate      1  \n","642 stimulative    1  \n","643 strikingly     1  \n","644 sublime        1  \n","645 suffice        1  \n","646 sweeping       1  \n","647 tempting       1  \n","648 tenderly       1  \n","649 thinner        1  \n","650 thoughtfully   1  \n","651 thrive         1  \n","652 thriving       1  \n","653 tidy           1  \n","654 triumphant     1  \n","655 triumphantly   1  \n","656 unbiased       1  \n","657 undaunted      1  \n","658 unequivocal    1  \n","659 unequivocally  1  \n","660 unquestionably 1  \n","661 unselfish      1  \n","662 useable        1  \n","663 vouch          1  \n","664 win            1  \n","665 winning        1  \n","666 wins           1  \n","667 wisely         1  \n","668 works          1  "]},"metadata":{},"output_type":"display_data"}],"source":["positive_senti <- get_sentiments(\"bing\") %>%\n"," filter(sentiment == \"positive\")\n","tidy_data %>%\n"," filter(book == \"Emma\") %>%\n"," semi_join(positive_senti) %>%\n"," count(word, sort = TRUE)"]},{"cell_type":"markdown","id":"b1d7c044","metadata":{"papermill":{"duration":0.005455,"end_time":"2023-02-02T05:39:01.005959","exception":false,"start_time":"2023-02-02T05:39:01.000504","status":"completed"},"tags":[]},"source":["- From our above result, we observe many positive words like “good”, “happy”, “love” etc. In the next step, we will use the spread() function to segregate our data into separate columns of positive and negative sentiments. We will then use the mutate() function to calculate the total sentiment, that is, the difference between positive and negative sentiment."]},{"cell_type":"code","execution_count":8,"id":"4eb0dc6c","metadata":{"execution":{"iopub.execute_input":"2023-02-02T05:39:01.020288Z","iopub.status.busy":"2023-02-02T05:39:01.018929Z","iopub.status.idle":"2023-02-02T05:39:01.46265Z","shell.execute_reply":"2023-02-02T05:39:01.461004Z"},"papermill":{"duration":0.452935,"end_time":"2023-02-02T05:39:01.465005","exception":false,"start_time":"2023-02-02T05:39:01.01207","status":"completed"},"tags":[]},"outputs":[{"name":"stderr","output_type":"stream","text":["\u001b[1m\u001b[22mJoining, by = \"word\"\n"]}],"source":["library(tidyr)\n","bing <- get_sentiments(\"bing\")\n","Emma_sentiment <- tidy_data %>%\n"," inner_join(bing) %>%\n"," count(book = \"Emma\" , index = linenumber %/% 80, sentiment) %>%\n"," spread(sentiment, n, fill = 0) %>%\n"," mutate(sentiment = positive - negative)"]},{"cell_type":"markdown","id":"1ea75194","metadata":{"papermill":{"duration":0.005532,"end_time":"2023-02-02T05:39:01.476215","exception":false,"start_time":"2023-02-02T05:39:01.470683","status":"completed"},"tags":[]},"source":["### we will visualize the words present in the book “Emma” based on their corresponding positive and negative scores:"]},{"cell_type":"code","execution_count":null,"id":"81b29222","metadata":{"papermill":{"duration":0.005324,"end_time":"2023-02-02T05:39:01.487134","exception":false,"start_time":"2023-02-02T05:39:01.48181","status":"completed"},"tags":[]},"outputs":[],"source":[]}],"metadata":{"kernelspec":{"display_name":"R","language":"R","name":"ir"},"language_info":{"codemirror_mode":"r","file_extension":".r","mimetype":"text/x-r-source","name":"R","pygments_lexer":"r","version":"4.0.5"},"papermill":{"default_parameters":{},"duration":40.386832,"end_time":"2023-02-02T05:39:01.614334","environment_variables":{},"exception":null,"input_path":"__notebook__.ipynb","output_path":"__notebook__.ipynb","parameters":{},"start_time":"2023-02-02T05:38:21.227502","version":"2.4.0"}},"nbformat":4,"nbformat_minor":5}